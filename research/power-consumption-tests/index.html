
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="http://pcengines.github.io/apu2-documentation/research/power-consumption-tests/">
      
      
        <link rel="prev" href="../Orange_Pi_flasher/">
      
      
        <link rel="next" href="../ROCA/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.5">
    
    
      
        <title>PC Engines apu3 power consumption tests - apu2 Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.558e4712.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.2505c338.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#pc-engines-apu3-power-consumption-tests" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="apu2 Documentation" class="md-header__button md-logo" aria-label="apu2 Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            apu2 Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              PC Engines apu3 power consumption tests
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="apu2 Documentation" class="md-nav__button md-logo" aria-label="apu2 Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    apu2 Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../apu_CPU_boost/" class="md-nav__link">
        apu CPU boost
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../apu_ecc/" class="md-nav__link">
        Apu ecc
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../apu_flashing_ipxe/" class="md-nav__link">
        Apu flashing ipxe
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../apu_flashing_with_rpi/" class="md-nav__link">
        Apu flashing with rpi
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../APU_mPCIe_capabilities/" class="md-nav__link">
        APU mPCIe capabilities
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../apu2_vboot/" class="md-nav__link">
        Apu2 vboot
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../apu2_vs_apu3/" class="md-nav__link">
        Apu2 vs apu3
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../apu2_vs_apu4/" class="md-nav__link">
        Apu2 vs apu4
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../cbmem_building/" class="md-nav__link">
        Cbmem building
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../cold_reset/" class="md-nav__link">
        Performing cold reset remotely
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../firmware_flashing/" class="md-nav__link">
        Firmware flashing
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../flashrom_building/" class="md-nav__link">
        Flashrom building
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../generating_coreboot_support_logs/" class="md-nav__link">
        Generating coreboot support logs
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../gpios/" class="md-nav__link">
        Gpios
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../ipxe_compile/" class="md-nav__link">
        Ipxe compile
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../linux_issues/" class="md-nav__link">
        Linux issues
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../microcode_patching/" class="md-nav__link">
        Microcode patching
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../mpcie_modules/" class="md-nav__link">
        Mpcie modules
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../order_of_PCI_addresses/" class="md-nav__link">
        order of PCI addresses
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../os_boot_serial_console/" class="md-nav__link">
        Os boot serial console
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../os-status/" class="md-nav__link">
        Os status
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../pfsense_installerconfig/" class="md-nav__link">
        Pfsense installerconfig
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../pfSense-install-guide/" class="md-nav__link">
        pfSense install guide
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../pxelinux-cfg/" class="md-nav__link">
        Pxelinux cfg
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../release_process/" class="md-nav__link">
        Release process
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../sd_card_performance_test/" class="md-nav__link">
        Sd card performance test
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../serial_console/" class="md-nav__link">
        Serial console
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../supported_coreboot_build/" class="md-nav__link">
        Supported coreboot build
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../theory-of-operation/" class="md-nav__link">
        apu features - theory of operation
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../tianocore_build/" class="md-nav__link">
        Tianocore build
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../tpm_menu/" class="md-nav__link">
        Tpm menu
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../tpm_pin_mapping/" class="md-nav__link">
        Pin mapping
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../voyage_image_building_alix/" class="md-nav__link">
        Voyage image building alix
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../voyage_linux_netinst/" class="md-nav__link">
        Configuring Voyage Linux netinst
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../voyage_linux_sd_card_install/" class="md-nav__link">
        Voyage linux sd card install
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../power_consumption_testing/" class="md-nav__link">
        Power Consumption Testing
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_37" type="checkbox" id="__nav_37" >
      
      
      
        <label class="md-nav__link" for="__nav_37" tabindex="0" aria-expanded="false">
          debug
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="debug" data-md-level="1">
        <label class="md-nav__title" for="__nav_37">
          <span class="md-nav__icon md-icon"></span>
          debug
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../debug/AGESA/" class="md-nav__link">
        AGESA
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../debug/alix3d2_issue/" class="md-nav__link">
        Alix3d2 issue
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../debug/cpu_frequency/" class="md-nav__link">
        Debug notes for CPU frequency issues
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../debug/debian_kernel_rebuild/" class="md-nav__link">
        Debian kernel rebuild
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../debug/external_sd_slot/" class="md-nav__link">
        External sd slot
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../debug/freeDOS_problems/" class="md-nav__link">
        freeDOS problems
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../debug/hdd_mPCIe_log_analyze/" class="md-nav__link">
        hdd mPCIe log analyze
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../debug/hdd_test/" class="md-nav__link">
        Hdd test
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../debug/iommu/" class="md-nav__link">
        Iommu
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../debug/mpcie_ethernet/" class="md-nav__link">
        Mpcie ethernet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../debug/mpcie1_mpcie2_ethernet_card/" class="md-nav__link">
        Mpcie1 mpcie2 ethernet card
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../debug/mpcie2/" class="md-nav__link">
        Mpcie2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../debug/openwrt/" class="md-nav__link">
        Openwrt
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../debug/pfsense-ahci-issue/" class="md-nav__link">
        Pfsense ahci issue
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../debug/sd_registers_bad/" class="md-nav__link">
        Sd registers bad
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../debug/sdcard_debug/" class="md-nav__link">
        Sdcard debug
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../debug/sdcard_test/" class="md-nav__link">
        Sdcard test
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../debug/tplink_hg/" class="md-nav__link">
        Tplink hg
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../debug/tpm/" class="md-nav__link">
        Tpm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../debug/usb-debugging/" class="md-nav__link">
        apu2 USB xHCi debugging
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../debug/usb-sticks/" class="md-nav__link">
        Usb sticks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../debug/usb-tests/" class="md-nav__link">
        Usb tests
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../debug/warmboot_reset/" class="md-nav__link">
        Warmboot reset
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_38" type="checkbox" id="__nav_38" checked>
      
      
      
        <label class="md-nav__link" for="__nav_38" tabindex="0" aria-expanded="true">
          research
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="research" data-md-level="1">
        <label class="md-nav__title" for="__nav_38">
          <span class="md-nav__icon md-icon"></span>
          research
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../apu_bios_write_protect/" class="md-nav__link">
        Apu bios write protect
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../early-cbmem-implementation/" class="md-nav__link">
        Early cbmem implementation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../fast_boot/" class="md-nav__link">
        Fast boot
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../freebsd_tpm_support/" class="md-nav__link">
        Freebsd tpm support
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../geode_lx/" class="md-nav__link">
        Geode lx
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Orange_Pi_flasher/" class="md-nav__link">
        Orange Pi flasher
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          PC Engines apu3 power consumption tests
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        PC Engines apu3 power consumption tests
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tests" class="md-nav__link">
    Tests
  </a>
  
    <nav class="md-nav" aria-label="Tests">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#apu3-stress-test-cpu" class="md-nav__link">
    apu3 stress-test cpu
  </a>
  
    <nav class="md-nav" aria-label="apu3 stress-test cpu">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#results-with-coreboot-v41104" class="md-nav__link">
    Results with coreboot v4.11.0.4
  </a>
  
    <nav class="md-nav" aria-label="Results with coreboot v4.11.0.4">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#conclusions" class="md-nav__link">
    Conclusions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#results-with-coreboot-v41105" class="md-nav__link">
    Results with coreboot v4.11.0.5
  </a>
  
    <nav class="md-nav" aria-label="Results with coreboot v4.11.0.5">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#coreboot-v41104-vs-v41105" class="md-nav__link">
    coreboot v4.11.0.4 vs v4.11.0.5
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remarks" class="md-nav__link">
    Remarks
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ROCA/" class="md-nav__link">
        ROCA
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../RPI_SPI_flasher/" class="md-nav__link">
        RPI flasher
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tpm2-triage/" class="md-nav__link">
        Tpm2 triage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../USB_compliance_test/" class="md-nav__link">
        USB compliance tests
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tests" class="md-nav__link">
    Tests
  </a>
  
    <nav class="md-nav" aria-label="Tests">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#apu3-stress-test-cpu" class="md-nav__link">
    apu3 stress-test cpu
  </a>
  
    <nav class="md-nav" aria-label="apu3 stress-test cpu">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#results-with-coreboot-v41104" class="md-nav__link">
    Results with coreboot v4.11.0.4
  </a>
  
    <nav class="md-nav" aria-label="Results with coreboot v4.11.0.4">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#conclusions" class="md-nav__link">
    Conclusions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#results-with-coreboot-v41105" class="md-nav__link">
    Results with coreboot v4.11.0.5
  </a>
  
    <nav class="md-nav" aria-label="Results with coreboot v4.11.0.5">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#coreboot-v41104-vs-v41105" class="md-nav__link">
    coreboot v4.11.0.4 vs v4.11.0.5
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remarks" class="md-nav__link">
    Remarks
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="pc-engines-apu3-power-consumption-tests">PC Engines apu3 power consumption tests</h1>
<p>We have started research and measurements of power consumption on apu platforms.
Our goal is to optimize (if possible) power management on coreboot level. First
stage of work is to collect data from various tests and create reports. For that
purpose we have used RTE with power monitor sensor. RTE stands for <em>Remote
Testing Environment</em> and it is a tool which helps debugging and testing devices.
RTE gathers all necessary interfaces and ports in one device. Therefore, it is
very versatile and convenient to use. More information can be found on
<a href="https://shop.3mdeb.com/product/rte/">3mdeb official website</a>. It is also place
where you can buy it.</p>
<p>This document gathers all already carried out tests, their results and our
conclusions. Over time, we will conduct next tests and hence extend this
document with further reports.</p>
<h2 id="tests">Tests</h2>
<h3 id="apu3-stress-test-cpu">apu3 stress-test cpu</h3>
<p>Test case is following:</p>
<ol>
<li>Power on RTE and power on apu3.</li>
<li>Boot to Debian 10 (buster) with kernel 4.19 on apu3.</li>
<li>Start measurements on RTE: constantly measure <em>bus voltage</em>, <em>current</em> and
   <em>input power</em> in 0.5 seconds time intervals and save them to text file.</li>
<li>After 10 seconds from starting measurements, invoke <code>sysbench</code> command on
apu3.</li>
<li>When <code>sysbench</code> finished, wait ~25 seconds and invoke command again.</li>
<li>When <code>sysbench</code> command was invoked 10 times, finish entire test.</li>
</ol>
<h4 id="results-with-coreboot-v41104">Results with coreboot v4.11.0.4</h4>
<p>Above test was performed with <code>coreboot v4.11.0.4</code> which doesn't have <strong>ASPM</strong>
(Active State Power Management) enabled. This feature was introduced in
v4.11.0.5 release.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sysbench<span class="w"> </span>cpu<span class="w"> </span>run<span class="w"> </span>--threads<span class="o">=</span><span class="m">4</span><span class="w"> </span>--events<span class="o">=</span><span class="m">10000</span><span class="w"> </span>--cpu-max-prime<span class="o">=</span><span class="m">20000</span><span class="w"> </span>--time<span class="o">=</span><span class="m">0</span><span class="w"> </span>--validate
sysbench<span class="w"> </span><span class="m">1</span>.0.19<span class="w"> </span><span class="o">(</span>using<span class="w"> </span>bundled<span class="w"> </span>LuaJIT<span class="w"> </span><span class="m">2</span>.1.0-beta2<span class="o">)</span>

Running<span class="w"> </span>the<span class="w"> </span><span class="nb">test</span><span class="w"> </span>with<span class="w"> </span>following<span class="w"> </span>options:
Number<span class="w"> </span>of<span class="w"> </span>threads:<span class="w"> </span><span class="m">4</span>
Validation<span class="w"> </span>checks:<span class="w"> </span>on.

Initializing<span class="w"> </span>random<span class="w"> </span>number<span class="w"> </span>generator<span class="w"> </span>from<span class="w"> </span>current<span class="w"> </span><span class="nb">time</span>


Prime<span class="w"> </span>numbers<span class="w"> </span>limit:<span class="w"> </span><span class="m">20000</span>

Initializing<span class="w"> </span>worker<span class="w"> </span>threads...

Threads<span class="w"> </span>started!

CPU<span class="w"> </span>speed:
<span class="w">    </span>events<span class="w"> </span>per<span class="w"> </span>second:<span class="w">   </span><span class="m">539</span>.76

General<span class="w"> </span>statistics:
<span class="w">    </span>total<span class="w"> </span>time:<span class="w">                          </span><span class="m">18</span>.5220s
<span class="w">    </span>total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>events:<span class="w">              </span><span class="m">10000</span>

Latency<span class="w"> </span><span class="o">(</span>ms<span class="o">)</span>:
<span class="w">         </span>min:<span class="w">                                    </span><span class="m">6</span>.40
<span class="w">         </span>avg:<span class="w">                                    </span><span class="m">7</span>.41
<span class="w">         </span>max:<span class="w">                                    </span><span class="m">8</span>.13
<span class="w">         </span>95th<span class="w"> </span>percentile:<span class="w">                        </span><span class="m">7</span>.70
<span class="w">         </span>sum:<span class="w">                                </span><span class="m">74064</span>.78

Threads<span class="w"> </span>fairness:
<span class="w">    </span>events<span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">           </span><span class="m">2500</span>.0000/18.61
<span class="w">    </span>execution<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">   </span><span class="m">18</span>.5162/0.00
</code></pre></div>
<p><img alt="sysbench-voltage" src="../../images/cb4-sysbench-voltage.png" /></p>
<p><img alt="sysbench-current" src="../../images/cb4-sysbench-current.png" /></p>
<p><img alt="sysbench-power" src="../../images/cb4-sysbench-power.png" /></p>
<h5 id="conclusions">Conclusions</h5>
<p>In idle state, when only Debian is running without any commands and
applications, power consumption oscillates around 4W. It increases to almost 6W
(~5.8W) when <code>sysbench</code> is running. That change is mainly caused by current
rise. However, simultaneously there is a little voltage drop on the bus. As you
can see it drops from about 12.18 V to 12.12 V. That behavior is normal - the
greater the load, the greater voltage decrease can be observed. It is rather
related to quality of power supply and wires than to end device. Moreover, as
this voltage drop is slight, it can be omitted in analysis.</p>
<h4 id="results-with-coreboot-v41105">Results with coreboot v4.11.0.5</h4>
<p>Above test was repeated with <code>coreboot v4.11.0.5</code> which has <strong>ASPM</strong> (Active
State Power Management) enabled. Exactly same test case was carried out and same
measurements were taken.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sysbench<span class="w"> </span>cpu<span class="w"> </span>run<span class="w"> </span>--threads<span class="o">=</span><span class="m">4</span><span class="w"> </span>--events<span class="o">=</span><span class="m">10000</span><span class="w"> </span>--cpu-max-prime<span class="o">=</span><span class="m">20000</span><span class="w"> </span>--time<span class="o">=</span><span class="m">0</span><span class="w"> </span>--validate
sysbench<span class="w"> </span><span class="m">1</span>.0.19<span class="w"> </span><span class="o">(</span>using<span class="w"> </span>bundled<span class="w"> </span>LuaJIT<span class="w"> </span><span class="m">2</span>.1.0-beta2<span class="o">)</span>

Running<span class="w"> </span>the<span class="w"> </span><span class="nb">test</span><span class="w"> </span>with<span class="w"> </span>following<span class="w"> </span>options:
Number<span class="w"> </span>of<span class="w"> </span>threads:<span class="w"> </span><span class="m">4</span>
Validation<span class="w"> </span>checks:<span class="w"> </span>on.

Initializing<span class="w"> </span>random<span class="w"> </span>number<span class="w"> </span>generator<span class="w"> </span>from<span class="w"> </span>current<span class="w"> </span><span class="nb">time</span>


Prime<span class="w"> </span>numbers<span class="w"> </span>limit:<span class="w"> </span><span class="m">20000</span>

Initializing<span class="w"> </span>worker<span class="w"> </span>threads...

Threads<span class="w"> </span>started!

CPU<span class="w"> </span>speed:
<span class="w">    </span>events<span class="w"> </span>per<span class="w"> </span>second:<span class="w">   </span><span class="m">539</span>.80

General<span class="w"> </span>statistics:
<span class="w">    </span>total<span class="w"> </span>time:<span class="w">                          </span><span class="m">18</span>.5200s
<span class="w">    </span>total<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>events:<span class="w">              </span><span class="m">10000</span>

Latency<span class="w"> </span><span class="o">(</span>ms<span class="o">)</span>:
<span class="w">         </span>min:<span class="w">                                    </span><span class="m">6</span>.36
<span class="w">         </span>avg:<span class="w">                                    </span><span class="m">7</span>.41
<span class="w">         </span>max:<span class="w">                                    </span><span class="m">8</span>.17
<span class="w">         </span>95th<span class="w"> </span>percentile:<span class="w">                        </span><span class="m">7</span>.70
<span class="w">         </span>sum:<span class="w">                                </span><span class="m">74053</span>.97

Threads<span class="w"> </span>fairness:
<span class="w">    </span>events<span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">           </span><span class="m">2500</span>.0000/18.79
<span class="w">    </span>execution<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="o">(</span>avg/stddev<span class="o">)</span>:<span class="w">   </span><span class="m">18</span>.5135/0.00
</code></pre></div>
<p><img alt="sysbench-voltage-2" src="../../images/cb5-sysbench-voltage.png" /></p>
<p><img alt="sysbench-current-2" src="../../images/cb5-sysbench-current.png" /></p>
<p><img alt="sysbench-power-2" src="../../images/cb5-sysbench-power.png" /></p>
<h5 id="coreboot-v41104-vs-v41105">coreboot v4.11.0.4 vs v4.11.0.5</h5>
<p>Comparing those results to previous one (with <code>coreboot v4.11.0.4</code>), following
differences can be noticed:</p>
<ul>
<li>average bus voltage level in idle state and during stress-test is slightly
  larger with <code>coreboot v4.11.0.5</code> than <code>coreboot v4.11.0.4</code>; however, those
  differences are only about 0,01/0,02 V, which makes 0,17% measurement error.
  As power monitor sensor accuracy is up to 1%, obtained error is within the
  norm;</li>
<li>in idle state, power consumption oscillates around 3.5W and when <code>sysbench</code> is
  running it increases to 5.3W top; it is improvement by approximately 0.5W in
  each state against <code>coreboot v4.11.0.4</code>;</li>
</ul>
<h3 id="remarks">Remarks</h3>
<p>Carried out tests are definitely insufficient to draw far-reaching conclusions.
There must be done more tests which involve another hardware components and
operations. It is already on our roadmap and we should successively introduce
more. Although it is beginning of research, we already have some remarks and
leads:</p>
<ul>
<li>power monitor sensor seems to work fine, the more there are estimated
  differences in power consumption with different coreboot versions;  </li>
<li>before moving to optimization stage, we need to collect large enough and
  diverse database - so far we have carried out only one test;</li>
<li>we should setup exact same test suite (with the same apu platform, firmware,
operating system and power monitor sensor) to confirm that results are
repeatable;</li>
</ul>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.e5c33ebb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.51d95adb.min.js"></script>
      
    
  </body>
</html>